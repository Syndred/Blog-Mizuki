# ä¹¦ç±å’Œç”µå½±é¡µé¢é…ç½®æŒ‡å—

## æ¦‚è¿°

ç»Ÿä¸€çš„åª’ä½“é¡µé¢ `/media/`ï¼Œåœ¨ä¸€ä¸ªé¡µé¢ä¸­å±•ç¤ºä¹¦ç±å’Œç”µå½±ï¼Œé€šè¿‡å³ä¸Šè§’çš„åˆ‡æ¢æŒ‰é’®åœ¨ä¸¤è€…ä¹‹é—´åˆ‡æ¢ã€‚ä½¿ç”¨æœ¬åœ°å›¾ç‰‡å­˜å‚¨ï¼Œé¿å…å¤–éƒ¨å›¾ç‰‡åŠ è½½é—®é¢˜ã€‚

## å¿«é€Ÿå¼€å§‹

### 1. åˆ›å»ºå›¾ç‰‡ç›®å½•

è¿è¡Œä»¥ä¸‹å‘½ä»¤åˆ›å»ºæ‰€éœ€çš„ç›®å½•ç»“æ„ï¼š

```bash
node scripts/create-placeholder-images.js
```

è¿™ä¼šåˆ›å»ºï¼š
- `public/assets/books/` - å­˜æ”¾ä¹¦ç±å°é¢
- `public/assets/movies/` - å­˜æ”¾ç”µå½±æµ·æŠ¥

### 2. å‡†å¤‡å›¾ç‰‡

å°†å›¾ç‰‡æ–‡ä»¶æ”¾å…¥å¯¹åº”ç›®å½•ï¼š

#### ä¹¦ç±å°é¢ (public/assets/books/)
- `santi.jpg` - ä¸‰ä½“
- `huozhe.jpg` - æ´»ç€
- `sapiens.jpg` - äººç±»ç®€å²
- `bainian.jpg` - ç™¾å¹´å­¤ç‹¬

#### ç”µå½±æµ·æŠ¥ (public/assets/movies/)
- `shawshank.jpg` - è‚–ç”³å…‹çš„æ•‘èµ
- `bawang.jpg` - éœ¸ç‹åˆ«å§¬
- `qianyu.jpg` - åƒä¸åƒå¯»
- `interstellar.jpg` - æ˜Ÿé™…ç©¿è¶Š

### 3. å›¾ç‰‡è§„æ ¼å»ºè®®

- **å°ºå¯¸**ï¼šå®½åº¦ 400-600pxï¼Œé«˜åº¦æŒ‰ 2:3 æ¯”ä¾‹ï¼ˆå¦‚ 400x600ï¼‰
- **æ ¼å¼**ï¼šjpg, png, webp éƒ½æ”¯æŒ
- **å¤§å°**ï¼šå»ºè®®æ¯å¼ å›¾ç‰‡ä¸è¶…è¿‡ 200KB

## å¦‚ä½•è·å–å›¾ç‰‡

### æ–¹æ³•1ï¼šä»è±†ç“£ä¸‹è½½ï¼ˆæ¨èï¼‰

1. è®¿é—®è±†ç“£ä¹¦ç±/ç”µå½±è¯¦æƒ…é¡µ
2. å³é”®ç‚¹å‡»å°é¢/æµ·æŠ¥å›¾ç‰‡
3. é€‰æ‹©"å›¾ç‰‡å¦å­˜ä¸º"
4. ä¿å­˜åˆ°å¯¹åº”ç›®å½•å¹¶é‡å‘½å

**è±†ç“£é“¾æ¥ç¤ºä¾‹ï¼š**
- ä¸‰ä½“ï¼šhttps://book.douban.com/subject/2567698/
- è‚–ç”³å…‹çš„æ•‘èµï¼šhttps://movie.douban.com/subject/1292052/

### æ–¹æ³•2ï¼šä½¿ç”¨åœ¨çº¿å·¥å…·ä¸‹è½½

å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å·¥å…·ä¸‹è½½è±†ç“£å›¾ç‰‡ï¼š
- æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12 -> Network -> æ‰¾åˆ°å›¾ç‰‡URLï¼‰
- å›¾ç‰‡ä¸‹è½½æ’ä»¶

### æ–¹æ³•3ï¼šä½¿ç”¨å ä½å›¾ç‰‡

å¦‚æœæš‚æ—¶æ²¡æœ‰å›¾ç‰‡ï¼Œå¯ä»¥ä½¿ç”¨å ä½å›¾ç‰‡æœåŠ¡ï¼š
- https://via.placeholder.com/400x600.jpg?text=ä¹¦å
- https://placehold.co/400x600/png?text=ç”µå½±å

## æ·»åŠ æ–°çš„ä¹¦ç±/ç”µå½±

### æ·»åŠ ä¹¦ç±

**æ­¥éª¤1ï¼š** å‡†å¤‡å°é¢å›¾ç‰‡
- å°†å›¾ç‰‡ä¿å­˜åˆ° `public/assets/books/` ç›®å½•
- å‘½åå»ºè®®ï¼šä½¿ç”¨æ‹¼éŸ³æˆ–è‹±æ–‡ï¼Œå¦‚ `book-name.jpg`

**æ­¥éª¤2ï¼š** ç¼–è¾‘ `src/data/books.ts`

```typescript
const localBookList: BookItem[] = [
  {
    doubanId: "2567698",      // è±†ç“£IDï¼ˆç”¨äºé“¾æ¥ï¼‰
    status: "reading",        // reading | completed | planned
    progress: 180,            // å½“å‰é˜…è¯»é¡µæ•°ï¼ˆå¯é€‰ï¼‰
    totalPages: 440,          // æ€»é¡µæ•°ï¼ˆå¯é€‰ï¼‰
    startDate: "2024-01",     // å¼€å§‹æ—¥æœŸï¼ˆå¯é€‰ï¼‰
    endDate: "",              // å®Œæˆæ—¥æœŸï¼ˆå¯é€‰ï¼‰
  },
];
```

**æ­¥éª¤3ï¼š** ç¼–è¾‘ `src/pages/media.astro` çš„ `bookData` æ•°ç»„

```typescript
const bookData = [
  {
    doubanId: "2567698",
    title: "ä¸‰ä½“",
    cover: "/assets/books/santi.jpg",  // æœ¬åœ°å›¾ç‰‡è·¯å¾„
    rating: 9.8,
    author: "åˆ˜æ…ˆæ¬£",
    publisher: "é‡åº†å‡ºç‰ˆç¤¾",
    year: "2008",
    description: "åˆ˜æ…ˆæ¬£çš„ç§‘å¹»å·¨ä½œ",
    genre: ["ç§‘å¹»", "ç¡¬ç§‘å¹»"],
    link: "https://book.douban.com/subject/2567698/",
  },
];
```

### æ·»åŠ ç”µå½±

**æ­¥éª¤1ï¼š** å‡†å¤‡æµ·æŠ¥å›¾ç‰‡
- å°†å›¾ç‰‡ä¿å­˜åˆ° `public/assets/movies/` ç›®å½•
- å‘½åå»ºè®®ï¼šä½¿ç”¨æ‹¼éŸ³æˆ–è‹±æ–‡ï¼Œå¦‚ `movie-name.jpg`

**æ­¥éª¤2ï¼š** ç¼–è¾‘ `src/data/movies.ts`

```typescript
const localMovieList: MovieItem[] = [
  {
    doubanId: "1292052",      // è±†ç“£IDï¼ˆç”¨äºé“¾æ¥ï¼‰
    status: "watched",        // watched | planned
    watchDate: "2023-05",     // è§‚çœ‹æ—¥æœŸï¼ˆå¯é€‰ï¼‰
  },
];
```

**æ­¥éª¤3ï¼š** ç¼–è¾‘ `src/pages/media.astro` çš„ `movieData` æ•°ç»„

```typescript
const movieData = [
  {
    doubanId: "1292052",
    title: "è‚–ç”³å…‹çš„æ•‘èµ",
    cover: "/assets/movies/shawshank.jpg",  // æœ¬åœ°å›¾ç‰‡è·¯å¾„
    rating: 9.7,
    director: "å¼—å…°å…‹Â·å¾·æ‹‰é‚¦ç‰¹",
    year: "1994",
    duration: "142åˆ†é’Ÿ",
    description: "å…³äºå¸Œæœ›ã€è‡ªç”±å’Œæ•‘èµçš„ç»å…¸ä¹‹ä½œ",
    genre: ["å‰§æƒ…", "çŠ¯ç½ª"],
    link: "https://movie.douban.com/subject/1292052/",
  },
];
```

## ç›®å½•ç»“æ„

```
public/
â””â”€â”€ assets/
    â”œâ”€â”€ books/              # ä¹¦ç±å°é¢ç›®å½•
    â”‚   â”œâ”€â”€ santi.jpg
    â”‚   â”œâ”€â”€ huozhe.jpg
    â”‚   â”œâ”€â”€ sapiens.jpg
    â”‚   â””â”€â”€ bainian.jpg
    â””â”€â”€ movies/             # ç”µå½±æµ·æŠ¥ç›®å½•
        â”œâ”€â”€ shawshank.jpg
        â”œâ”€â”€ bawang.jpg
        â”œâ”€â”€ qianyu.jpg
        â””â”€â”€ interstellar.jpg

src/
â”œâ”€â”€ pages/
â”‚   â””â”€â”€ media.astro         # åª’ä½“é¡µé¢
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ books.ts            # ä¹¦ç±çŠ¶æ€é…ç½®
â”‚   â””â”€â”€ movies.ts           # ç”µå½±çŠ¶æ€é…ç½®
â””â”€â”€ config.ts               # ç«™ç‚¹é…ç½®
```

## é¡µé¢åŠŸèƒ½

### ä¹¦ç±è§†å›¾
- âœ… çŠ¶æ€ç­›é€‰ï¼šå…¨éƒ¨/åœ¨è¯»/è¯»è¿‡/æƒ³è¯»
- âœ… é˜…è¯»è¿›åº¦æ¡ï¼ˆä»…"åœ¨è¯»"çŠ¶æ€æ˜¾ç¤ºï¼‰
- âœ… æ˜¾ç¤ºä½œè€…å’Œå‡ºç‰ˆç¤¾
- âœ… è¯„åˆ†å’Œå°é¢
- âœ… ç±»å‹æ ‡ç­¾
- âœ… ç‚¹å‡»è·³è½¬åˆ°è±†ç“£è¯¦æƒ…é¡µ

### ç”µå½±è§†å›¾
- âœ… çŠ¶æ€ç­›é€‰ï¼šå…¨éƒ¨/çœ‹è¿‡/æƒ³çœ‹
- âœ… æ˜¾ç¤ºå¯¼æ¼”å’Œæ—¶é•¿
- âœ… è¯„åˆ†å’Œæµ·æŠ¥
- âœ… ç±»å‹æ ‡ç­¾
- âœ… ç‚¹å‡»è·³è½¬åˆ°è±†ç“£è¯¦æƒ…é¡µ

### åˆ‡æ¢åŠŸèƒ½
- å³ä¸Šè§’æœ‰ä¸¤ä¸ªæŒ‰é’®ï¼šğŸ“š ä¹¦ç± å’Œ ğŸ¬ ç”µå½±
- ç‚¹å‡»æŒ‰é’®å³å¯åˆ‡æ¢è§†å›¾
- åˆ‡æ¢æ—¶ä¼šè‡ªåŠ¨æ›´æ–°æ ‡é¢˜å’Œå‰¯æ ‡é¢˜
- æ¯ä¸ªè§†å›¾æœ‰ç‹¬ç«‹çš„ç­›é€‰å™¨

## é…ç½®è¯´æ˜

### `src/config.ts`

```typescript
// ç‰¹è‰²é¡µé¢å¼€å…³
featurePages: {
  books: true,     // ä¹¦ç±åŠŸèƒ½å¼€å…³
  movies: true,    // ç”µå½±åŠŸèƒ½å¼€å…³
}

// å¯¼èˆªæ é…ç½®
navBarConfig: {
  children: [
    {
      name: "Media",
      url: "/media/",
      icon: "material-symbols:library-books"
    }
  ]
}
```

## è®¿é—®é¡µé¢

- ç»Ÿä¸€åª’ä½“é¡µé¢ï¼š`/media/`

## å›¾ç‰‡ä¼˜åŒ–å»ºè®®

### 1. å‹ç¼©å›¾ç‰‡

ä½¿ç”¨åœ¨çº¿å·¥å…·å‹ç¼©å›¾ç‰‡ä»¥æé«˜åŠ è½½é€Ÿåº¦ï¼š
- TinyPNG: https://tinypng.com/
- Squoosh: https://squoosh.app/
- ImageOptim (Mac): https://imageoptim.com/

### 2. è½¬æ¢ä¸º WebP æ ¼å¼

WebP æ ¼å¼ä½“ç§¯æ›´å°ï¼ŒåŠ è½½æ›´å¿«ï¼š
```bash
# ä½¿ç”¨ cwebp å·¥å…·è½¬æ¢
cwebp input.jpg -q 80 -o output.webp
```

### 3. æ‰¹é‡å¤„ç†

å¦‚æœæœ‰å¾ˆå¤šå›¾ç‰‡ï¼Œå¯ä»¥ä½¿ç”¨è„šæœ¬æ‰¹é‡å¤„ç†ï¼š
```bash
# æ‰¹é‡å‹ç¼© jpg å›¾ç‰‡
for file in *.jpg; do
  cwebp "$file" -q 80 -o "${file%.jpg}.webp"
done
```

## å¸¸è§é—®é¢˜

### Q: å›¾ç‰‡ä¸æ˜¾ç¤ºæ€ä¹ˆåŠï¼Ÿ
A: 
1. æ£€æŸ¥å›¾ç‰‡æ–‡ä»¶æ˜¯å¦å­˜åœ¨äº `public/assets/books/` æˆ– `public/assets/movies/` ç›®å½•
2. æ£€æŸ¥æ–‡ä»¶åæ˜¯å¦ä¸ä»£ç ä¸­çš„è·¯å¾„ä¸€è‡´ï¼ˆæ³¨æ„å¤§å°å†™ï¼‰
3. æ£€æŸ¥å›¾ç‰‡æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼ˆjpg, png, webpï¼‰
4. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜åé‡è¯•

### Q: å¦‚ä½•æ‰¹é‡æ·»åŠ ä¹¦ç±/ç”µå½±ï¼Ÿ
A: 
1. å…ˆæ‰¹é‡ä¸‹è½½å¹¶ä¿å­˜å›¾ç‰‡åˆ°å¯¹åº”ç›®å½•
2. åœ¨ `src/data/books.ts` æˆ– `movies.ts` ä¸­æ‰¹é‡æ·»åŠ é…ç½®
3. åœ¨ `src/pages/media.astro` ä¸­æ‰¹é‡æ·»åŠ è¯¦ç»†ä¿¡æ¯

### Q: å¯ä»¥ä½¿ç”¨å…¶ä»–å›¾ç‰‡å—ï¼Ÿ
A: å¯ä»¥ï¼ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•ä½ å–œæ¬¢çš„å›¾ç‰‡ï¼Œä¸ä¸€å®šè¦ä»è±†ç“£ä¸‹è½½ã€‚åªè¦æ”¾åœ¨æ­£ç¡®çš„ç›®å½•å¹¶æ›´æ–°è·¯å¾„å³å¯ã€‚

### Q: å›¾ç‰‡å¤ªå¤§æ€ä¹ˆåŠï¼Ÿ
A: 
1. ä½¿ç”¨å›¾ç‰‡å‹ç¼©å·¥å…·å‡å°æ–‡ä»¶å¤§å°
2. è°ƒæ•´å›¾ç‰‡å°ºå¯¸åˆ°åˆé€‚å¤§å°ï¼ˆå»ºè®® 400-600px å®½ï¼‰
3. è½¬æ¢ä¸º WebP æ ¼å¼

## ç¤ºä¾‹ï¼šå®Œæ•´æ·»åŠ æµç¨‹

å‡è®¾è¦æ·»åŠ ã€Š1984ã€‹è¿™æœ¬ä¹¦ï¼š

1. **ä¸‹è½½å°é¢**
   - è®¿é—® https://book.douban.com/subject/4820710/
   - ä¿å­˜å°é¢å›¾ç‰‡ä¸º `1984.jpg`
   - æ”¾å…¥ `public/assets/books/` ç›®å½•

2. **æ›´æ–° books.ts**
   ```typescript
   {
     doubanId: "4820710",
     status: "completed",
     progress: 328,
     totalPages: 328,
   }
   ```

3. **æ›´æ–° media.astro**
   ```typescript
   {
     doubanId: "4820710",
     title: "1984",
     cover: "/assets/books/1984.jpg",
     rating: 9.4,
     author: "ä¹”æ²»Â·å¥¥å¨å°”",
     publisher: "åŒ—äº¬åæœˆæ–‡è‰ºå‡ºç‰ˆç¤¾",
     year: "2010",
     description: "åä¹Œæ‰˜é‚¦çš„ç»å…¸ä¹‹ä½œ",
     genre: ["å°è¯´", "åä¹Œæ‰˜é‚¦"],
     link: "https://book.douban.com/subject/4820710/",
   }
   ```

4. **åˆ·æ–°é¡µé¢æŸ¥çœ‹æ•ˆæœ**

## åç»­ä¼˜åŒ–å»ºè®®

1. ä½¿ç”¨ WebP æ ¼å¼å‡å°å›¾ç‰‡ä½“ç§¯
2. å®ç°å›¾ç‰‡æ‡’åŠ è½½
3. æ·»åŠ å›¾ç‰‡åŠ è½½å¤±è´¥çš„å ä½å›¾
4. è€ƒè™‘ä½¿ç”¨ CDN åŠ é€Ÿå›¾ç‰‡åŠ è½½
5. æ·»åŠ å›¾ç‰‡é¢„è§ˆåŠŸèƒ½
6. æ”¯æŒå¤šå¼ å›¾ç‰‡è½®æ’­

## æ³¨æ„äº‹é¡¹

1. **ç‰ˆæƒé—®é¢˜**ï¼šä»è±†ç“£ä¸‹è½½çš„å›¾ç‰‡ä»…ä¾›ä¸ªäººä½¿ç”¨ï¼Œä¸è¦ç”¨äºå•†ä¸šç”¨é€”
2. **æ–‡ä»¶å‘½å**ï¼šå»ºè®®ä½¿ç”¨è‹±æ–‡æˆ–æ‹¼éŸ³å‘½åï¼Œé¿å…ä½¿ç”¨ä¸­æ–‡å’Œç‰¹æ®Šå­—ç¬¦
3. **å›¾ç‰‡æ ¼å¼**ï¼šæ¨èä½¿ç”¨ jpg æˆ– webp æ ¼å¼
4. **å¤‡ä»½**ï¼šå»ºè®®å°†å›¾ç‰‡æ–‡ä»¶åŠ å…¥ Git ç‰ˆæœ¬æ§åˆ¶
